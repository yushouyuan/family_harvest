## docker
### 遇到的问题
1、docker desktop对操作系统版本有要求，公司电脑操作系统不够，用家里电脑安装
2、docker build 时，一直拉取基础镜像不成功，在desktop setting中找到配置修改为国内百度云镜像（也可以在用户.docker文件夹下找到daemon.json文件，添加镜像）
{
  "builder": {
    "gc": {
      "defaultKeepStorage": "20GB",
      "enabled": true
    }
  },
  "experimental": false
  "registry-mirrors": ["https://mirror.baidubce.com"]
}
3、dockerfile中有从debian网站拉取，在文件中添加了国内镜像
4、build过程中还遇到内存不足问题，在C盘用户文件下创建了wsgi配置文件，修改了允许使用4G内存
5、 apt 是什么？
全名：Advanced Package Tool， Debian/Ubuntu 系列（Linux Mint、Kali、Raspberry Pi OS 等）默认的包管理器。
作用：帮你“一键”安装/卸载/升级/搜索软件，并自动解决依赖（某个软件需要别的库，apt 会一起装上）。

~~~
docker build --no-cache -t family_harvest .
~~~

### 运行容器
1、容器在docker desktop上可以跑起来，运行entrypoint.sh，但是网页打不开，发现是没有暴露端口导致

## 待办
### 功能方面
1、在移动端无法实现录音，原因是使用的是http链接，移动端浏览器需要保证为https链接才允许调用录音，后续考虑把程序改为https的
2、功能增加录音保存后，自动把录音内容tts转换为文字，附加到text后面，不改变原有text中内容
3、打包为android apk

4、引入天气mcp和location mcp，根据当前地点天气加上天气信息

### 发布
1、已成功在docker desktop上打包镜像，并且在容器中运行成功，需要暴露端口，但是导入到nas后发现格式不对，尝试在nas上直接build镜像试试
2、docker-compose还需要验证
3、manage.py是Django的入口程序，开发环境用manage.py runserver，打包镜像要用gunicorn，而且必须bind到 **0.0.0.0** 不能用127.0.0.0

### claude
1、尽管建了claude.md文件，似乎每次启动还是会消耗大量token
2、提示词方面心得